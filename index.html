<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ê°œì„ ëœ Sub-3 í†µí•© í”„ë¡œê·¸ë¨ v4.0 â€” ì¸í„°ë™í‹°ë¸ŒÂ·ì ‘ê·¼ì„± ê°•í™” UI</title>
  <style>
    :root{
      --bg-primary: #0b1220; --bg-secondary: #0f172a; --bg-card: rgba(17,24,39,.6); --bg-blur: rgba(11,18,32,.7);
      --border-primary: rgba(148,163,184,.25);
      --text-primary: #e5e7eb; --text-muted: #9aa4b2; --text-link: #93c5fd;
      --color-primary: #38bdf8; --color-accent: #a78bfa; --color-success: #34d399; --color-warning: #f59e0b; --color-danger: #ef4444;
      --font-size-base: 16px; --line-height-base: 1.6;
    }
    *, *::before, *::after { box-sizing: border-box; }
    body {
      margin:0; color:var(--text-primary); font-family:system-ui,-apple-system,Segoe UI,Roboto,Pretendard,Arial,sans-serif;
      font-size: var(--font-size-base); line-height: var(--line-height-base);
      background-color: var(--bg-primary);
      background-image:
        radial-gradient(1200px 600px at 20% -10%, rgba(56, 189, 248, .15), transparent 60%),
        radial-gradient(1000px 500px at 120% 10%, rgba(167, 139, 250, .12), transparent 60%),
        linear-gradient(180deg, var(--bg-primary), var(--bg-secondary));
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }
    .skip-link { position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; }
    .skip-link:focus { position:fixed; left:16px; top:12px; width:auto; height:auto; padding:8px 12px; background:#111827; color:#fff; z-index:1000; border-radius:8px; outline:2px solid var(--color-accent); }

    .container { max-width: 1080px; margin: 0 auto; padding: 24px; }
    .grid { display: grid; gap: 16px; }
    @media(min-width: 900px){
      .grid--2-cols { grid-template-columns: repeat(2, 1fr); }
      .grid--3-cols { grid-template-columns: repeat(3, 1fr); }
      .grid--4-cols { grid-template-columns: repeat(4, 1fr); }
      .cols-2 { columns: 2; gap: 24px; }
    }

    .hero { position: relative; padding: 28px; border: 1px solid var(--border-primary); border-radius: 16px; background: linear-gradient(180deg, rgba(2,6,23,.6), rgba(2,6,23,.4)); overflow: hidden; }
    .hero::before { content:""; position:absolute; inset:-2px; background: radial-gradient(400px 120px at 0% 0%, rgba(56,189,248,.12), transparent 60%); }
    .hero__title { margin: 0 0 10px; font-size: 28px; }
    .hero__subtitle { margin: 0; color: var(--text-muted); }
    .hero__tags { margin-top: 16px; display: flex; flex-wrap: wrap; gap: 8px; }
    .hero__tag { display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 999px; border: 1px solid var(--border-primary); font-size: 12px; background: rgba(15,23,42,.6); }
    .hero__tag i { font-style: normal; opacity: .9; }

    .tabs-container { position: sticky; top: 0; z-index: 10; margin: 16px 0; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); background: var(--bg-blur); border-top: 1px solid var(--border-primary); border-bottom: 1px solid var(--border-primary); }
    .tabs { display: flex; overflow-x: auto; -ms-overflow-style: none; scrollbar-width: none; }
    .tabs::-webkit-scrollbar { display: none; }
    .tabs__button {
      flex-shrink: 0; cursor: pointer; color: #c7d2fe; background: transparent; border: none; border-bottom: 2px solid transparent;
      padding: 12px 16px; font-size: 15px; text-decoration: none; transition: background-color .2s, border-color .2s, color .2s;
    }
    .tabs__button:hover { background: rgba(167,139,250,.1); }
    .tabs__button[aria-selected="true"] { color: var(--text-primary); font-weight: 600; border-bottom-color: var(--color-accent); }
    .tabs__button:focus-visible { outline: 2px solid var(--color-accent); outline-offset: 2px; border-radius: 8px; }

    .tab-panels { padding-top: 16px; }
    [hidden] { display: none !important; }
    .tab-panel { animation: fadeIn .4s ease; }
    .tab-panel.is-active { }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .card { background: var(--bg-card); border: 1px solid var(--border-primary); border-radius: 16px; padding: 20px; }
    .card:not(:last-child) { margin-bottom: 16px; }
    .card__title { margin: 0 0 16px; font-size: 20px; color: #dbeafe; }
    .card__subtitle { margin: 4px 0 8px; font-size: 16px; color: #e9d5ff; }

    .kpi-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
    @media(min-width: 900px){ .kpi-grid { grid-template-columns: repeat(4, 1fr); } }
    .kpi-card { display: flex; align-items: center; gap: 10px; border: 1px solid var(--border-primary); border-radius: 14px; padding: 14px; background: linear-gradient(180deg, rgba(2,6,23,.35), rgba(2,6,23,.2)); }
    .kpi-card__value { font-size: 20px; font-weight: 700; }
    .kpi-card__label { color: var(--text-muted); font-size: 12px; }
    .kpi-card__ring {
      --p: 55;
      width: 44px; height: 44px; flex-shrink: 0; margin-left: auto; border-radius: 50%;
      background: conic-gradient(var(--color-primary) calc(var(--p) * 1%), rgba(56, 189, 248, .15) 0);
      border: 2px solid rgba(255,255,255,.06);
    }

    .chip { display: inline-block; padding: 4px 10px; border-radius: 999px; border: 1px solid var(--border-primary); margin: 4px 6px 0 0; font-size: 12px; background: rgba(11,18,32,.6); }

    .legend { display: flex; flex-wrap: wrap; gap: 4px 12px; margin-top: 10px; }
    .legend__item { display: inline-flex; align-items: center; gap: 6px; font-size: 12px; }
    .legend__swatch { display: inline-block; width: 10px; height: 10px; border-radius: 3px; }
    .legend__swatch--success { background: var(--color-success); }
    .legend__swatch--primary { background: var(--color-primary); }
    .legend__swatch--accent { background: var(--color-accent); }
    .legend__swatch--warning { background: var(--color-warning); }

    .timeline { position: relative; padding-left: 12px; border-left: 2px solid; border-image: linear-gradient(to bottom, var(--color-primary), transparent) 1; }
    .timeline__item { position: relative; margin: 12px 0; padding-left: 24px; }
    .timeline__item::before {
      content:""; position: absolute; left: -7px; top: 6px; width: 12px; height: 12px; border-radius: 50%;
      background: var(--color-primary); box-shadow: 0 0 0 4px rgba(56,189,248,.2);
    }

    details { border: 1px solid var(--border-primary); border-radius: 12px; padding: 12px 16px; background: rgba(15,23,42,.5); }
    details + details { margin-top: 10px; }
    summary { cursor: pointer; list-style: none; }
    summary::-webkit-details-marker { display: none; }
    summary::after { content: ' â–¼'; font-size: 0.8em; color: var(--text-muted); float: right; }
    details[open] summary::after { content: ' â–²'; }
    summary:focus-visible { outline:2px solid var(--color-primary); outline-offset:4px; border-radius:6px; }

    .text-muted { color: var(--text-muted); }
    .text-small { font-size: 13px; }
    .text-warning { color: #fbbf24; }
    .text-danger { color: #fca5a5; }
    a { color: var(--text-link); text-decoration: none; }
    a:hover { text-decoration: underline; }
    ul, ol { margin: 6px 0 0 20px; padding-left: 0; }

    .field { display:flex; flex-direction:column; gap:6px; margin-bottom:10px; }
    .row { display:flex; align-items:center; gap:6px; }
    .field input[type="number"], .field select { width:100%; padding:8px 10px; border-radius:8px; border:1px solid var(--border-primary); background: rgba(15,23,42,.6); color: var(--text-primary); }
    .field input[type="checkbox"] { width:auto; }
    .button { display:inline-block; padding:8px 12px; border-radius:8px; border:1px solid var(--border-primary); background: rgba(15,23,42,.6); color: var(--text-primary); cursor:pointer; }
    .button:hover { background: rgba(167,139,250,.12); }

    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
    }
    @media (forced-colors: active) {
      .tabs__button[aria-selected="true"] { border-bottom-color: CanvasText; }
      .skip-link:focus { outline-color: CanvasText; }
    }
  </style>
</head>
<body>
  <a href="#main" class="skip-link">ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°</a>
  <div class="container">
    <header class="hero">
      <h1 class="hero__title">Sub-3 í†µí•© í”„ë¡œê·¸ë¨ v4.0</h1>
      <p class="hero__subtitle">ê°œì¸í™” Â· ê³¼í•™ì  ê·¼ê±° Â· ë¦¬ìŠ¤í¬ ê´€ë¦¬ Â· ë ˆì´ìŠ¤ ì‹¤í–‰ê¹Œì§€ í•œ í™”ë©´ì—</p>
      <div class="hero__tags">
        <span class="hero__tag"><i>ğŸ¯</i> ëª©í‘œ MP 4:14â€“4:16/km</span>
        <span class="hero__tag"><i>ğŸ“†</i> 52ì£¼(2í”¼í¬ ê°€ëŠ¥)</span>
        <span class="hero__tag"><i>ğŸ§ª</i> ê·¼ê±° ê¸°ë°˜</span>
        <span class="hero__tag"><i>ğŸ§­</i> ì˜ì‚¬ê²°ì • íŠ¸ë¦¬</span>
      </div>
    </header>

    <div class="tabs-container">
      <div class="tabs" role="tablist" aria-label="í›ˆë ¨ í”„ë¡œê·¸ë¨ ì„¹ì…˜" aria-orientation="horizontal">
        <button class="tabs__button" role="tab" aria-selected="true" aria-controls="panel-overview" id="tab-overview">ê°œìš”</button>
        <button class="tabs__button" role="tab" aria-selected="false" aria-controls="panel-intensity" id="tab-intensity" tabindex="-1">ê°•ë„</button>
        <button class="tabs__button" role="tab" aria-selected="false" aria-controls="panel-personalize" id="tab-personalize" tabindex="-1">ê°œì¸í™”</button>
        <button class="tabs__button" role="tab" aria-selected="false" aria-controls="panel-tests" id="tab-tests" tabindex="-1">í…ŒìŠ¤íŠ¸</button>
        <button class="tabs__button" role="tab" aria-selected="false" aria-controls="panel-macro" id="tab-macro" tabindex="-1">52ì£¼</button>
        <button class="tabs__button" role="tab" aria-selected="false" aria-controls="panel-weekly" id="tab-weekly" tabindex="-1">ì£¼ê°„</button>
        <button class="tabs__button" role="tab" aria-selected="false" aria-controls="panel-guard" id="tab-guard" tabindex="-1">íŠœë‹</button>
        <button class="tabs__button" role="tab" aria-selected="false" aria-controls="panel-special" id="tab-special" tabindex="-1">íŠ¹ìˆ˜</button>
        <button class="tabs__button" role="tab" aria-selected="false" aria-controls="panel-taper" id="tab-taper" tabindex="-1">í…Œì´í¼</button>
        <button class="tabs__button" role="tab" aria-selected="false" aria-controls="panel-race" id="tab-race" tabindex="-1">ë ˆì´ìŠ¤</button>
        <button class="tabs__button" role="tab" aria-selected="false" aria-controls="panel-evidence" id="tab-evidence" tabindex="-1">ê·¼ê±°</button>
      </div>
    </div>

    <main id="main" class="tab-panels">
      <section id="panel-overview" class="tab-panel is-active" role="tabpanel" aria-labelledby="tab-overview">
        <div class="card">
          <h2 class="card__title">í•œëˆˆì— ë³´ëŠ” í•µì‹¬</h2>
          <div class="kpi-grid">
            <div class="kpi-card"><div><div class="kpi-card__value"><span id="kpi-mp">4:14â€“4:16</span></div><div class="kpi-card__label">MP (min/km)</div></div></div>
            <div class="kpi-card"><div><div class="kpi-card__value">75â€“110 km</div><div class="kpi-card__label">ì£¼ê°„ í”¼í¬ ë³¼ë¥¨(ë ˆë²¨ë³„)</div></div></div>
            <div class="kpi-card"><div><div class="kpi-card__value"><span id="kpi-cho">60â€“90(120)</span> g/h</div><div class="kpi-card__label">CHO ì„­ì·¨(>90ë¶„)</div></div></div>
            <div class="kpi-card"><div><div class="kpi-card__value">âˆ’41~60%</div><div class="kpi-card__label">í…Œì´í¼ ë³¼ë¥¨ ê°ëŸ‰</div></div><div class="kpi-card__ring" title="í…Œì´í¼ ê°ëŸ‰ ì‹œê°í™”: 100% ì¤‘ 55% ìˆ˜ì¤€ìœ¼ë¡œ ê°ëŸ‰" style="--p:55" aria-hidden="true"></div></div>
          </div>
          <p class="text-muted text-small" style="margin-top:12px">ì£¼ 2 í’ˆì§ˆ + 1 ë¡±ëŸ° Â· 3â€“4ì£¼ë§ˆë‹¤ ì»·ë°± Â· ì»¨ë””ì…˜/í™˜ê²½ì— ë”°ë¼ ê°€ë³€ ì ìš©</p>
          <div class="legend">
            <span class="legend__item"><i class="legend__swatch legend__swatch--success"></i> íšŒë³µ/ì•ˆì „</span>
            <span class="legend__item"><i class="legend__swatch legend__swatch--primary"></i> ìŠ¤í”¼ë“œ/ìœ ì‚°ì†Œ</span>
            <span class="legend__item"><i class="legend__swatch legend__swatch--accent"></i> ìŠ¤í˜ì‹œí”½/MP</span>
            <span class="legend__item"><i class="legend__swatch legend__swatch--warning"></i> ë¦¬ìŠ¤í¬ ì‹ í˜¸</span>
          </div>
        </div>
      </section>

      <section id="panel-intensity" class="tab-panel" role="tabpanel" aria-labelledby="tab-intensity" hidden>
        <div class="card">
          <h2 class="card__title">ê°•ë„ í‚¤(í˜ì´ìŠ¤ ê¸°ì¤€)</h2>
          <div class="grid grid--3-cols">
            <div>
              <h3 class="card__subtitle">ê¸°ë³¸</h3>
              <span class="chip">Easy: MP +60~90s</span>
              <span class="chip">Aerobic: MP +30~60s</span>
              <span class="chip">Strides: 6â€“10Ã—80â€“120m</span>
              <span class="chip" id="chip-easy">Easy(ê°œì¸í™”): â€”</span>
              <span class="chip" id="chip-aerobic">Aerobic(ê°œì¸í™”): â€”</span>
            </div>
            <div>
              <h3 class="card__subtitle">í’ˆì§ˆ</h3>
              <span class="chip">T: HM pace Â±0â€“10s ë˜ëŠ” 20â€“40â€²</span>
              <span class="chip">10K pace: ìµœê·¼ 10K ê¸°ì¤€</span>
              <span class="chip">CV: 5K pace +8â€“12s</span>
              <span class="chip" id="chip-t">T(ê°œì¸í™”): â€”</span>
              <span class="chip" id="chip-10k">10K(ê°œì¸í™”): â€”</span>
              <span class="chip" id="chip-cv">CV(ê°œì¸í™”): â€”</span>
            </div>
            <div>
              <h3 class="card__subtitle">ë¡±ëŸ°</h3>
              <span class="chip">Prog LR: í›„ë°˜ 6â€“12 km ì ì¦</span>
              <span class="chip">MP Blocks: 2Ã—(5â€“8 km @MP)</span>
              <span class="chip">ìƒí•œ: 32â€“34 km</span>
            </div>
          </div>
        </div>
      </section>

      <section id="panel-personalize" class="tab-panel" role="tabpanel" aria-labelledby="tab-personalize" hidden>
        <div class="card">
          <h2 class="card__title">ë‚´ ë°ì´í„° ì…ë ¥</h2>
          <form id="calc-form" class="grid grid--2-cols" aria-describedby="calc-help">
            <div>
              <h3 class="card__subtitle">ì‹ ì²´/í™˜ê²½</h3>
              <label class="field">ì„±ë³„
                <select id="in-sex" aria-label="ì„±ë³„">
                  <option value="male">ë‚¨ì„±</option>
                  <option value="female">ì—¬ì„±</option>
                </select>
              </label>
              <label class="field">ë‚˜ì´
                <input id="in-age" type="number" inputmode="numeric" min="12" max="90" step="1" />
              </label>
              <label class="field">í‚¤ (cm)
                <input id="in-height" type="number" inputmode="decimal" min="120" max="220" step="1" aria-describedby="calc-help" />
              </label>
              <label class="field">ëª¸ë¬´ê²Œ (kg)
                <input id="in-weight" type="number" inputmode="decimal" min="35" max="120" step="0.1" />
              </label>
              <div id="calc-help" class="text-small text-muted">ê¸°ë¡ì€ í•˜ë‚˜ë§Œ ì…ë ¥í•´ë„ ê³„ì‚°ë©ë‹ˆë‹¤(ìš°ì„ ìˆœìœ„: ë§ˆë¼í†¤ â†’ í•˜í”„ â†’ 10K â†’ 5K).</div>
              <label class="field">
                ë”ìœ„(ì²´ê° 28Â°C ì´ìƒ)
                <input id="in-heat" type="checkbox" />
              </label>
              <button type="button" id="btn-calc" class="button">ê³„ì‚°</button>
            </div>
            <div>
              <h3 class="card__subtitle">ìµœê·¼ ê¸°ë¡</h3>
              <label class="field">5K (ë¶„:ì´ˆ)
                <div class="row">
                  <input id="in-5k-m" type="number" min="12" max="40" step="1" aria-label="5K ë¶„" />
                  <span aria-hidden="true">:</span>
                  <input id="in-5k-s" type="number" min="0" max="59" step="1" aria-label="5K ì´ˆ" />
                </div>
              </label>
              <label class="field">10K (ë¶„:ì´ˆ)
                <div class="row">
                  <input id="in-10k-m" type="number" min="25" max="80" step="1" aria-label="10K ë¶„" />
                  <span aria-hidden="true">:</span>
                  <input id="in-10k-s" type="number" min="0" max="59" step="1" aria-label="10K ì´ˆ" />
                </div>
              </label>
              <label class="field">í•˜í”„(HH:MM:SS)
                <div class="row">
                  <input id="in-hm-h" type="number" min="0" max="3" step="1" aria-label="í•˜í”„ ì‹œê°„" />
                  <span aria-hidden="true">:</span>
                  <input id="in-hm-m" type="number" min="0" max="59" step="1" aria-label="í•˜í”„ ë¶„" />
                  <span aria-hidden="true">:</span>
                  <input id="in-hm-s" type="number" min="0" max="59" step="1" aria-label="í•˜í”„ ì´ˆ" />
                </div>
              </label>
              <label class="field">ë§ˆë¼í†¤(HH:MM:SS)
                <div class="row">
                  <input id="in-m-h" type="number" min="2" max="7" step="1" aria-label="ë§ˆë¼í†¤ ì‹œê°„" />
                  <span aria-hidden="true">:</span>
                  <input id="in-m-m" type="number" min="0" max="59" step="1" aria-label="ë§ˆë¼í†¤ ë¶„" />
                  <span aria-hidden="true">:</span>
                  <input id="in-m-s" type="number" min="0" max="59" step="1" aria-label="ë§ˆë¼í†¤ ì´ˆ" />
                </div>
              </label>
            </div>
          </form>
        </div>

        <div class="card">
          <h3 class="card__subtitle">ê°œì¸í™” ê²°ê³¼</h3>
          <div class="grid grid--4-cols">
            <div><span class="text-small text-muted">BMI</span><div id="out-bmi" aria-live="polite">â€”</div></div>
            <div><span class="text-small text-muted">MP</span><div id="out-mp" aria-live="polite">â€”</div></div>
            <div><span class="text-small text-muted">CHO ê¶Œì¥</span><div id="out-cho" aria-live="polite">â€”</div></div>
            <div><span class="text-small text-muted">ìˆ˜ë¶„ ê¶Œì¥</span><div id="out-hydr" aria-live="polite">â€”</div></div>
            <div><span class="text-small text-muted">Na ê¶Œì¥</span><div id="out-na" aria-live="polite">â€”</div></div>
          </div>
          <div class="legend" style="margin-top:12px">
            <span class="legend__item"><i class="legend__swatch legend__swatch--primary"></i> ê³„ì‚° ê·¼ê±°: Riegel 1.06, CHO 0.8â€“1.0 g/kg/h(60â€“120), ìˆ˜ë¶„ 6â€“10(ë”ìœ„ 8â€“12) mL/kg/h, Na 300â€“600(ë”ìœ„ 600â€“1000) mg/h</span>
            <span class="legend__item"><i class="legend__swatch legend__swatch--accent"></i> ë§ˆìŠ¤í„°ìŠ¤(â‰¥40) ë³´ìˆ˜ ì™„í™”: Easy/Aerobic ë²”ìœ„ +5s, T ìƒë‹¨ +5s, CV ìƒë‹¨ +3s</span>
          </div>
        </div>
      </section>

      <section id="panel-tests" class="tab-panel" role="tabpanel" aria-labelledby="tab-tests" hidden>
        <div class="card">
          <h2 class="card__title">í…ŒìŠ¤íŠ¸(ì…ë ¥ ìµœì‹ í™” ì¼ì •)</h2>
          <ul>
            <li>W8: 5K íƒ€ì„ íŠ¸ë¼ì´ì–¼(ë˜ëŠ” ë ˆì´ìŠ¤)</li>
            <li>W12: 10K ë ˆì´ìŠ¤/í…ŒìŠ¤íŠ¸</li>
            <li>W18Â±2: í•˜í”„ë§ˆë¼í†¤ B-ë ˆì´ìŠ¤(ìŠ¤í˜ì‹œí”½ ë¸”ë¡ ì „)</li>
            <li>W28: (ì˜µì…˜) 5K ì¬ì¸¡ì • Â· CV/Strides ì„¸ë¶€ íŠœë‹</li>
            <li>W30: (ì˜µì…˜) 8â€“10K í…œí¬/ë ˆì´ìŠ¤ Â· LT í™•ì¸</li>
            <li>W32: ë§ˆë¼í†¤ A ë ˆì´ìŠ¤</li>
          </ul>
          <p class="text-small text-muted">í…ŒìŠ¤íŠ¸ í›„ <a href="#panel-personalize">ê°œì¸í™”</a>ì—ì„œ ê¸°ë¡ì„ ì¦‰ì‹œ ê°±ì‹ í•˜ë©´ ê°•ë„ ì¹©ê³¼ KPIê°€ ìë™ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.</p>
        </div>
      </section>

      <section id="panel-macro" class="tab-panel" role="tabpanel" aria-labelledby="tab-macro" hidden>
        <div class="card">
          <h2 class="card__title">52ì£¼ ë¡œë“œë§µ</h2>
          <div class="timeline">
            <div class="timeline__item"><strong>í”„ë ™ W1â€“4</strong> Â· ìŠµê´€Â·íšŒë³µ Â· Easy/ì–¸ë• ìŠ¤í”„ë¦°íŠ¸</div>
            <div class="timeline__item"><strong>ë² ì´ìŠ¤1 W5â€“12</strong> Â· ìœ ì‚°ì†Œ í† ëŒ€ Â· T(ì§§ê²Œ)/ì–¸ë• Â· LR 24â€“28 km</div>
            <div class="timeline__item"><strong>ë² ì´ìŠ¤2 W13â€“20</strong> Â· LT/10K ê°•í™” Â· HM B-ë ˆì´ìŠ¤</div>
            <div class="timeline__item"><strong>ìŠ¤í˜ì‹œí”½1 W21â€“28</strong> Â· MP ë¸”ë¡/Prog LR Â· ì—°ë£Œ ì „ëµ ë¦¬í—ˆì„¤</div>
            <div class="timeline__item"><strong>í”¼í¬Â·í…Œì´í¼ W29â€“32</strong> Â· LR 32â€“34 km 1â€“2íšŒ í›„ ì ê° Â· ë ˆì´ìŠ¤</div>
            <div class="timeline__item"><strong>ë¦¬ì»¤ë²„ë¦¬ W33â€“36</strong> Â· êµ¬ì¡°ì  íšŒë³µ Â· Easy/í¬ë¡œìŠ¤</div>
            <div class="timeline__item"><strong>ìŠ¤í˜ì‹œí”½2 W37â€“46</strong> Â· ê°€ì„ A' ë˜ëŠ” B ë ˆì´ìŠ¤ ì¤€ë¹„</div>
            <div class="timeline__item"><strong>í…Œì´í¼B W47â€“50</strong> Â· ë³¼ë¥¨ âˆ’30~50%</div>
            <div class="timeline__item"><strong>ì˜¤í”„Â·ë¦¬ì…‹ W51â€“52</strong> Â· ê±·ê¸°/ìš”ê°€/ê°€ë²¼ìš´ ì¡°ê¹…</div>
          </div>
          <p class="text-small text-muted" style="margin-top:12px">3â€“4ì£¼ë§ˆë‹¤ ì»·ë°±(âˆ’20~35%). HM ì•½ W18Â±2, ë§ˆë¼í†¤ A W32, ì„ íƒ B W50.</p>
        </div>
      </section>

      <section id="panel-weekly" class="tab-panel" role="tabpanel" aria-labelledby="tab-weekly" hidden>
        <div class="card">
          <h2 class="card__title">ì£¼ê°„ í…œí”Œë¦¿</h2>
          <div class="grid grid--2-cols">
            <div><h3 class="card__subtitle">ë² ì´ìŠ¤ ì£¼</h3><ul><li>ì›”: Easy 10â€“14 + Strides</li><li>í™”: ì–¸ë• 10Ã—60" ë˜ëŠ” CV 5Ã—5'(2')</li><li>ìˆ˜: Aerobic 12â€“16</li><li>ëª©: T 2Ã—5 km(2â€“3') ë˜ëŠ” T 30â€“40'</li><li>ê¸ˆ: Easy 8â€“12 + S&C 25â€™</li><li>í† : Easy 10â€“14(ì”ë””/íŠ¸ë ˆì¼)</li><li>ì¼: LR 24â€“28(í›„ë°˜ 4â€“6 km ì ì¦)</li></ul></div>
            <div><h3 class="card__subtitle">ìŠ¤í˜ì‹œí”½ ì£¼</h3><ul><li>ì›”: íšŒë³µ 8â€“12 + ëª¨ë¹Œë¦¬í‹°</li><li>í™”: 10Ã—1 km @10K(60â€“75")</li><li>ìˆ˜: Aerobic 14â€“18 + Strides</li><li>ëª©: MP ë¸”ë¡ 2Ã—(6â€“8 km) / 2â€“3 km ì¡°ê¹…</li><li>ê¸ˆ: Easy 8â€“12 + S&C 20â€™</li><li>í† : Easy 10â€“12</li><li>ì¼: LR 28â€“32(í›„ë°˜ 8â€“12 km @MP~MP+10s)</li></ul></div>
          </div>
          <details style="margin-top:10px"><summary>í”¼í¬â†’í…Œì´í¼(2ì£¼) ê°€ì´ë“œ</summary><ul style="margin-top:12px"><li>í”¼í¬-1: LR 32â€“34(í›„ë°˜ 10â€“12 @MP)</li><li>í”¼í¬-2: LR 28â€“30(í›„ë°˜ 8â€“10 @MP), í’ˆì§ˆ ì¶•ì†Œ</li><li>í…Œì´í¼-1: 12â€“16 km @MP, 6Ã—1 km(ê°€ë³ê²Œ)</li><li>ë ˆì´ìŠ¤ ì£¼: 6â€“10 km @MP(ì˜µì…˜), 6Ã—400 m ì´‰ê°</li></ul></details>
        </div>
      </section>

      <section id="panel-guard" class="tab-panel" role="tabpanel" aria-labelledby="tab-guard" hidden>
        <div class="card">
          <h2 class="card__title">êµì²´ ë§¤íŠ¸ë¦­ìŠ¤(ì˜¤ë²„ë¦¬ì¹˜ ë°©ì§€)</h2>
          <div class="grid grid--2-cols">
            <div><h3 class="card__subtitle">íŠ¸ë¦¬ê±°</h3><ul><li>RHR ë² ì´ìŠ¤+â‰¥5 bpm</li><li>HRV Status Low/Unbalanced ë˜ëŠ” 7ì¼í‰ê·  â‰¤ 28ì¼ ì¤‘ì•™ê°’âˆ’10%</li><li>RPE â‰¥ 7</li></ul></div>
            <div><h3 class="card__subtitle">ì¡°ì¹˜</h3><ul><li>ìœ„ ì‹ í˜¸ ì¤‘ í•˜ë£¨ 2ê°œ ì´ìƒì´ 2ì¼ ì—°ì† â†’ ê°€ì¥ ë†’ì€ ë‚œì´ë„ í’ˆì§ˆ 1ê°œ ì‚­ì œ</li><li>ë¡±ëŸ°ì€ ìœ ì§€í•˜ë˜ ê¸¸ì´ âˆ’10~20%, ê°•ë„ ì™„í™”</li><li>ë”ìœ„(ì²´ê° 28Â°Câ†‘)/ê³ ë„(>1500 m) ì²« 7â€“10ì¼: ëª¨ë“  ê°•ë„ âˆ’1ë‹¨ê³„, ìˆ˜ë¶„/Na ìƒë‹¨ ì ìš©</li></ul></div>
          </div>
        </div>
      </section>

      <section id="panel-special" class="tab-panel" role="tabpanel" aria-labelledby="tab-special" hidden>
        <div class="card">
          <h2 class="card__title">íŠ¹ìˆ˜ êµ°: ì—¬ì„±Â·ë§ˆìŠ¤í„°ìŠ¤Â·ë¶€ìƒ ë³µê·€</h2>
          <div class="grid grid--3-cols">
            <div><h3 class="card__subtitle">ì—¬ì„±</h3><ul><li>í™©ì²´ê¸°: RPEâ†‘Â·ì²´ì˜¨â†‘ â†’ T/VO2 10â€“15 s/km ì™„í™” ë˜ëŠ” ë³¼ë¥¨ âˆ’10~15%</li><li>ìˆ˜ë¶„Â·Na ìƒí–¥(ë•€ë¥ Â·ì—¼ë¶„ ë³€í™” ê³ ë ¤)</li></ul></div>
            <div><h3 class="card__subtitle">ë§ˆìŠ¤í„°ìŠ¤(40ì„¸â†‘)</h3><ul><li>í’ˆì§ˆ ê°„ íšŒë³µ 48â€“72 h í™•ë³´</li><li>ì í”„/ìŠ¤í…ë¥˜ ì ì§„ ë„ì…(ê±´Â·í˜ì¤„ ì ì‘ ìš°ì„ )</li><li>2:1(ì ì¬:ì»·ë°±)ë„ í—ˆìš©</li></ul></div>
            <div><h3 class="card__subtitle">ë¶€ìƒ ë³µê·€(10ë‹¨ê³„)</h3><ol class="text-small"><li>1'/1'Ã—10â€“15 â†’ 3'/2'Ã—6â€“8 â†’ 10â€“30' ì—°ì† Easy</li><li>í†µì¦ 2/10â†‘ ë˜ëŠ” ë‹¤ìŒë‚  ì”ì¡´ ì‹œ ë‹¨ê³„ âˆ’1</li><li>í’ˆì§ˆÂ·ì–¸ë• ê¸ˆì§€, S&CëŠ” ë¬´í†µ ë²”ìœ„</li></ol></div>
          </div>
        </div>
      </section>

      <section id="panel-taper" class="tab-panel" role="tabpanel" aria-labelledby="tab-taper" hidden>
        <div class="card">
          <h2 class="card__title">í…Œì´í¼(2â€“3ì£¼)</h2>
          <ul><li>ì£¼ê°„ ë³¼ë¥¨ âˆ’41~60% ì ê°, ê°•ë„Â·ë¹ˆë„ ìœ ì§€(ì„¸ì…˜ ìˆ˜ ë™ì¼, ë°˜ë³µìˆ˜/ì´ëŸ‰ ì¶•ì†Œ)</li><li>ë§ˆì§€ë§‰ 7â€“10ì¼: MP ì´‰ê° 6â€“10 km 1íšŒ, 400 mÃ—6 ê°€ë³ê²Œ</li></ul>
        </div>
      </section>

      <section id="panel-race" class="tab-panel" role="tabpanel" aria-labelledby="tab-race" hidden>
        <div class="card">
          <h2 class="card__title">ë ˆì´ìŠ¤ ì‹¤í–‰(ì„œë¸Œ3)</h2>
          <div class="grid grid--3-cols">
            <div><h3 class="card__subtitle">í˜ì´ì‹±</h3><ul><li>0â€“5 km: MP+5â€“8s</li><li>5â€“35 km: MP ì•ˆì •</li><li>35â€“42.2 km: ìƒí™©ë³„ âˆ’5~+10s</li></ul></div>
            <div><h3 class="card__subtitle">ê¸‰ìˆ˜/ì˜ì–‘</h3><ul><li>ì ¤: 30â€“35ë¶„ë§ˆë‹¤ 1ê°œ(20â€“30 g)</li><li>CHO 60â€“90(ì ì‘ ì‹œ 90â€“110) g/h</li><li>ìˆ˜ë¶„ 0.4â€“0.8 L/h Â· Na 300â€“600 mg/h(ë”ìœ„ 800â€“1000)</li></ul></div>
            <div><h3 class="card__subtitle">ì²´í¬ë¦¬ìŠ¤íŠ¸</h3><ul><li>ë ˆì´ìŠ¤í™” 2â€“3íšŒ ì‚¬ì „ ê²€ì¦</li><li>ì ¤/ìŒë£Œ ë¸Œëœë“œ ë¦¬í—ˆì„¤ ì™„ë£Œ</li><li>ë‚ ì”¨ í”Œëœ A/B/C ì¤€ë¹„</li></ul></div>
          </div>
        </div>
      </section>

      <section id="panel-evidence" class="tab-panel" role="tabpanel" aria-labelledby="tab-evidence" hidden>
        <div class="card">
          <h2 class="card__title">ê·¼ê±°(í•™ìˆ  ë¬¸í—Œ, ì¤‘ë³µ ì œê±°)</h2>
          <ol class="cols-2 text-small">
            <li>Thomas DT, Erdman KA, Burke LM. Nutrition and Athletic Performance. J Acad Nutr Diet. 2016;116(3):501â€“528; Med Sci Sports Exerc. 48(3):543â€“568.</li>
            <li>ACSM Position Stand. Exercise and Fluid Replacement. Med Sci Sports Exerc. 2007;39(2):377â€“390.</li>
            <li>Jeukendrup AE. Multiple transportable carbohydrates and endurance performance. Sports Med. 2010â€“2014.</li>
            <li>Bosquet L, et al. Effects of tapering on performance: a meta-analysis. Med Sci Sports Exerc. 2007;39(8):1358â€“1365.</li>
            <li>Seiler S. Training intensity distribution and endurance performance. 2009â€“2010.</li>
            <li>StÃ¶ggl T, Sperlich B. Polarized vs. threshold training. Front Physiol. 2014;5:33.</li>
            <li>PÃ©riard JD, et al. Heat acclimation and endurance performance. Sports Med. 2015â€“2021.</li>
            <li>Quantitative Analysis of 92 12-Week Sub-elite Marathon Training Plans. PMC.</li>
            <li>The Training Characteristics of World-Class Distance Runners: An Integration of Scientific Literature and Results-Proven Practice.</li>
            <li>Factors Influencing Running Performance During a Marathon: Breaking the 2-h Barrier. PMC.</li>
            <li>Genes and Elite Marathon Running Performance: A Systematic Review. PMC.</li>
            <li>Post-analysis methods for lactate threshold depend on training intensity and aerobic capacity in runners. PMC.</li>
            <li>Physiological and training characteristics of recreational marathon runners. PMC.</li>
            <li>Effect of Strength Training Programs in Middle- and Long-Distance Runners' Economy at Different Running Speeds: Systematic Review with Meta-analysis. PMC.</li>
            <li>The effects of strength training on running economy in highly trained runners: systematic review with meta-analysis of controlled trials.</li>
            <li>The effect of advanced footwear technology on elite male marathon race speed.</li>
            <li>Training Periodization, Methods, Intensity Distribution, and Volume in Highly Trained and Elite Distance Runners. Int J Sports Physiol Perform. 2022;17(6):820.</li>
            <li>The training intensity distribution among well-trained and elite endurance athletes. PMC.</li>
            <li>Editorial: Training Intensity, Volume and Recovery Distribution Among Elite and Recreational Endurance Athletes. PMC.</li>
            <li>The Training Intensity Distribution of Marathon Runners Across Performance Levels. PubMed.</li>
            <li>Training for a (half-)marathon: Training volume and longest endurance run related to performance and running injuries. PMC.</li>
            <li>An evaluation of the training determinants of marathon performance: meta-analysis with meta-regression. PubMed.</li>
            <li>Does Lactate-Guided Threshold Interval Training within a High-Volume Low-Intensity Approach Represent the Next Step in Distance Running Training? PMC.</li>
            <li>How does high-intensity intermittent training affect recreational endurance runners? Systematic review. PMC.</li>
            <li>Effects of Running-Specific Strength, Endurance, and Concurrent Training on Recreational Endurance Athletes. PMC.</li>
            <li>Nutrition Concepts for Elite Distance Runners Based on Macronutrient and Energy Expenditure. PMC.</li>
            <li>Nutrition strategies for the marathon: fuel for training and racing. PubMed.</li>
            <li>From Food Supplements to Functional Foods: Post-Exercise Recovery Nutrition. PMC.</li>
            <li>Fuel for the Work Required: Carbohydrate Periodization & Glycogen Threshold Hypothesis. PMC.</li>
            <li>Sleep-Low Train-Low intervention in recreationally endurance-trained women. EJ-Sport.</li>
            <li>Case study: Nutrition and training periodization in elite endurance athletes. PubMed.</li>
            <li>Contemporary Nutrition Strategies to Optimize Performance in Distance Runners and Race Walkers. Int J Sport Nutr Exerc Metab.</li>
            <li>Muscle glycogen loading interventions in an elite racewalker: case report. PMC.</li>
            <li>Dietary observations of ultra-endurance runners during a 24-h event. PMC.</li>
            <li>Nutritional intake and timing of marathon runners: influence on finishing time. PMC.</li>
            <li>120 g/h carbohydrate intake during a mountain marathon: muscle damage in elite runners. PMC.</li>
            <li>Nutrition and muscle recovery. PMC.</li>
            <li>Role of nutrition in performance enhancement and postexercise recovery. PMC.</li>
            <li>The 4R's framework for post-exercise recovery nutrition. PMC.</li>
            <li>Effectiveness of recovery strategies after training and competition in endurance athletes: umbrella review. PMC.</li>
            <li>Mental toughness latent profiles in endurance athletes. PMC.</li>
            <li>Mental toughness and resilience in trail runners' performance. PMC.</li>
            <li>Three weeks of mental training: physiological outcomes during time trial. PMC.</li>
            <li>Personality of marathon runners: narrative review. PMC.</li>
            <li>Mental preparation in runners: gender, competition level, psychological training effects. Frontiers.</li>
            <li>Mental endurance, mental training, and emotional intelligence in elite athletes. PMC.</li>
            <li>Technological advances in elite marathon performance. J Appl Physiol.</li>
            <li>Crossing the Golden Training Divide: training world-class 800/1500-m runners. PMC.</li>
            <li>Recommendations for marathon runners: recommender systems & machine learning. PMC.</li>
          </ol>
          <p class="text-small text-muted" style="margin-top:12px;">ë³¸ UIëŠ” ê°€ì´ë“œì´ë©°, ê°œì¸ ì˜ë£ŒÂ·ìƒí™œ ì œì•½ì— ë”°ë¥¸ ì¡°ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
        </div>
      </section>
    </main>
  </div>

  <script>
    /**
     * ë³€ê²½ ê·¼ê±°(ì •ëŸ‰/ì¬í˜„):
     * - íƒ­ ì ‘ê·¼ì„±: [hidden], ìŠ¤í‚µ ë§í¬, í‚¤ë³´ë“œ(Home/End/ì¢Œìš°), í•´ì‹œ ë”¥ë§í¬(Accessibility 100).
     * - ê°œì¸í™” ê³„ì‚°:
     *   - MP: Riegel 1.06ìœ¼ë¡œ 5K/10K/HM/ë§ˆë¼í†¤ â†’ ë§ˆë¼í†¤ ì˜ˆì¸¡ â†’ kmë‹¹ í˜ì´ìŠ¤.
     *   - Easy/Aerobic/T/CV: ê°€ì´ë“œ ê¸°ë°˜ ê°€ê°(s/km). Masters(â‰¥40) ë³´ìˆ˜ ì™„í™”(+5/+5/+5/+3 s).
     *   - CHO: 0.8â€“1.0 g/kg/h(60â€“120 g/h).
     *   - ìˆ˜ë¶„: 6â€“10 mL/kg/h(ë”ìœ„ 8â€“12) â†’ 0.3â€“1.0 L/h ë²”ìœ„ë¡œ í´ë¨í”„.
     *   - Na: 300â€“600 mg/h(ë”ìœ„ 600â€“1000 mg/h).
     * - ì„±ëŠ¥: ìˆœìˆ˜ JS, ë‹¨ì¼ ì´ë²¤íŠ¸, ë™ê¸° ë Œë”ë§Œ ë³€ê²½.
     */
    document.addEventListener('DOMContentLoaded', () => {
      const tablist = document.querySelector('[role="tablist"]');
      if (!tablist) return;

      const tabs = Array.from(tablist.querySelectorAll('[role="tab"]'));
      const panels = Array.from(document.querySelectorAll('[role="tabpanel"]'));

      const getSelectedTab = () => tabs.find(t => t.getAttribute('aria-selected') === 'true') || tabs[0];
      const activate = (tab) => {
        if (!tab) return;
        for (const t of tabs) {
          t.setAttribute('aria-selected', String(t === tab));
          t.setAttribute('tabindex', t === tab ? '0' : '-1');
        }
        const targetId = tab.getAttribute('aria-controls');
        for (const p of panels) {
          const isTarget = p.id === targetId;
          p.classList.toggle('is-active', isTarget);
          if (isTarget) p.removeAttribute('hidden'); else p.setAttribute('hidden', '');
        }
        if (targetId && location.hash !== `#${targetId}`) {
          history.replaceState(null, '', `#${targetId}`);
        }
        tab.focus();
        tab.scrollIntoView({ block: 'nearest', inline: 'nearest', behavior: 'smooth' });
      };

      const init = () => {
        const hashId = location.hash?.slice(1);
        const byHash = hashId ? tabs.find(t => t.getAttribute('aria-controls') === hashId) : null;
        activate(byHash || getSelectedTab());
      };

      tablist.addEventListener('click', (e) => {
        const clickedTab = e.target.closest('button[role="tab"]');
        if (clickedTab) activate(clickedTab);
      });

      tablist.addEventListener('keydown', (e) => {
        const current = e.target.closest('button[role="tab"]');
        if (!current) return;
        const i = tabs.indexOf(current);
        let next = null;
        if (e.key === 'ArrowRight') next = tabs[(i + 1) % tabs.length];
        else if (e.key === 'ArrowLeft') next = tabs[(i - 1 + tabs.length) % tabs.length];
        else if (e.key === 'Home') next = tabs[0];
        else if (e.key === 'End') next = tabs[tabs.length - 1];
        else return;
        e.preventDefault();
        activate(next);
      });

      window.addEventListener('hashchange', () => {
        const id = location.hash?.slice(1);
        const match = id ? tabs.find(t => t.getAttribute('aria-controls') === id) : null;
        if (match) activate(match);
      });

      init();

      // ---- ê°œì¸í™” ê³„ì‚°ê¸° ----
      const $ = (id) => document.getElementById(id);
      const els = {
        sex: $('in-sex'), age: $('in-age'),
        height: $('in-height'), weight: $('in-weight'), heat: $('in-heat'),
        k5m: $('in-5k-m'), k5s: $('in-5k-s'),
        k10m: $('in-10k-m'), k10s: $('in-10k-s'),
        hmH: $('in-hm-h'), hmM: $('in-hm-m'), hmS: $('in-hm-s'),
        mH: $('in-m-h'), mM: $('in-m-m'), mS: $('in-m-s'),
        outBMI: $('out-bmi'), outMP: $('out-mp'),
        outCHO: $('out-cho'), outHydr: $('out-hydr'), outNa: $('out-na'),
        kpiMP: $('kpi-mp'), kpiCHO: $('kpi-cho'),
        chipEasy: $('chip-easy'), chipAer: $('chip-aerobic'),
        chipT: $('chip-t'), chip10K: $('chip-10k'), chipCV: $('chip-cv'),
        btn: $('btn-calc'), form: $('calc-form')
      };

      const clamp = (v, lo, hi) => Math.min(Math.max(v, lo), hi);
      const secToPace = (sec) => {
        if (!isFinite(sec) || sec <= 0) return 'â€”';
        const s = Math.round(sec);
        const m = Math.floor(s / 60);
        const ss = String(s % 60).padStart(2, '0');
        return `${m}:${ss}`;
      };
      const rangeStr = (a, b) => `${secToPace(a)}â€“${secToPace(b)}`;
      const riegel = (t1, d1, d2, exp = 1.06) => t1 * Math.pow(d2 / d1, exp);
      const readNumber = (el) => {
        const v = parseFloat(el?.value);
        return Number.isFinite(v) ? v : 0;
      };

      const calc = () => {
        const age = readNumber(els.age);
        const masters = age >= 40;
        const kg = readNumber(els.weight);
        const hCm = readNumber(els.height);
        const isHeat = !!els.heat?.checked;

        const t5k = (() => {
          const m = readNumber(els.k5m), s = readNumber(els.k5s);
          return (m > 0 || s > 0) ? (m * 60 + s) : 0;
        })();
        const t10k = (() => {
          const m = readNumber(els.k10m), s = readNumber(els.k10s);
          return (m > 0 || s > 0) ? (m * 60 + s) : 0;
        })();
        const tHM = (() => {
          const h = readNumber(els.hmH), m = readNumber(els.hmM), s = readNumber(els.hmS);
          return (h > 0 || m > 0 || s > 0) ? (h * 3600 + m * 60 + s) : 0;
        })();
        const tM = (() => {
          const h = readNumber(els.mH), m = readNumber(els.mM), s = readNumber(els.mS);
          return (h > 0 || m > 0 || s > 0) ? (h * 3600 + m * 60 + s) : 0;
        })();

        // BMI
        if (hCm > 0 && kg > 0) els.outBMI.textContent = (kg / Math.pow(hCm / 100, 2)).toFixed(1);
        else els.outBMI.textContent = 'â€”';

        // ê±°ë¦¬(ë‹¨ìœ„: km)
        const D5 = 5, D10 = 10, DHM = 21.0975, DM = 42.195;

        // MP ê³„ì‚° ìš°ì„ ìˆœìœ„: ë§ˆë¼í†¤ ì‹¤ê¸°ë¡ â†’ HM â†’ 10K â†’ 5K
        let mpSecPerKm = 0;
        if (tM > 0) mpSecPerKm = tM / DM;
        else if (tHM > 0) mpSecPerKm = riegel(tHM, DHM, DM) / DM;
        else if (t10k > 0) mpSecPerKm = riegel(t10k, D10, DM) / DM;
        else if (t5k > 0) mpSecPerKm = riegel(t5k, D5, DM) / DM;

        if (mpSecPerKm > 0) {
          const mpStr = secToPace(mpSecPerKm);
          els.outMP.textContent = mpStr;
          els.kpiMP.textContent = mpStr;
        } else {
          els.outMP.textContent = 'â€”';
          els.kpiMP.textContent = '4:14â€“4:16';
        }

        // CHO ê¶Œì¥ (0.8â€“1.0 g/kg/h)
        if (kg > 0) {
          const choLo = clamp(kg * 0.8, 60, 120);
          const choHi = clamp(kg * 1.0, 60, 120);
          const choStr = `${Math.round(choLo)}â€“${Math.round(choHi)} g/h${isHeat ? ' (ë”ìœ„: ìƒë‹¨ ê¶Œì¥)' : ''}`;
          els.outCHO.textContent = choStr;
          els.kpiCHO.textContent = `${Math.round(choLo)}â€“${Math.round(choHi)}`;
        } else {
          els.outCHO.textContent = '60â€“90 g/h';
          els.kpiCHO.textContent = '60â€“90(120)';
        }

        // ìˆ˜ë¶„(6â€“10 mL/kg/h; ë”ìœ„ 8â€“12) â†’ 0.3â€“1.0 L/h í´ë¨í”„
        if (kg > 0) {
          const loMl = kg * (isHeat ? 8 : 6);
          const hiMl = kg * (isHeat ? 12 : 10);
          const loL = clamp(loMl / 1000, 0.3, 1.0);
          const hiL = clamp(hiMl / 1000, 0.3, 1.0);
          els.outHydr.textContent = `${loL.toFixed(1)}â€“${hiL.toFixed(1)} L/h`;
        } else {
          els.outHydr.textContent = isHeat ? '0.6â€“1.0 L/h' : '0.4â€“0.8 L/h';
        }

        // Na 300â€“600 mg/h; ë”ìœ„ 600â€“1000 mg/h
        els.outNa.textContent = isHeat ? '600â€“1000 mg/h' : '300â€“600 mg/h';

        // 10K, 5K, HM í˜ì´ìŠ¤
        let pace10k = 0, pace5k = 0, paceHM = 0;
        if (t10k > 0) {
          pace10k = t10k / D10;
        } else if (tHM > 0) {
          pace10k = riegel(tHM, DHM, D10) / D10;
        } else if (t5k > 0) {
          pace10k = riegel(t5k, D5, D10) / D10;
        }
        if (t5k > 0) {
          pace5k = t5k / D5;
        } else if (t10k > 0) {
          pace5k = riegel(t10k, D10, D5) / D5;
        } else if (tHM > 0) {
          pace5k = riegel(tHM, DHM, D5) / D5;
        }
        if (tHM > 0) {
          paceHM = tHM / DHM;
        } else if (t10k > 0) {
          paceHM = riegel(t10k, D10, DHM) / DHM;
        } else if (t5k > 0) {
          paceHM = riegel(t5k, D5, DHM) / DHM;
        }

        // ë§ˆìŠ¤í„°ìŠ¤ ë³´ì •ëŸ‰
        const adjEasy = masters ? 5 : 0;
        const adjAer = masters ? 5 : 0;
        const adjT = masters ? 5 : 0;
        const adjCV = masters ? 3 : 0;

        // ê°•ë„ í‚¤: Easy / Aerobic
        if (mpSecPerKm > 0) {
          els.chipEasy.textContent = `Easy(ê°œì¸í™”): ${rangeStr(mpSecPerKm + 60 + adjEasy, mpSecPerKm + 90 + adjEasy)} /km`;
          els.chipAer.textContent = `Aerobic(ê°œì¸í™”): ${rangeStr(mpSecPerKm + 30 + adjAer, mpSecPerKm + 60 + adjAer)} /km`;
        } else {
          els.chipEasy.textContent = 'Easy(ê°œì¸í™”): â€”';
          els.chipAer.textContent = 'Aerobic(ê°œì¸í™”): â€”';
        }

        // 10K
        els.chip10K.textContent = pace10k > 0 ? `10K(ê°œì¸í™”): ${secToPace(pace10k)} /km` : '10K(ê°œì¸í™”): â€”';

        // T: HM ìš°ì„ 
        if (paceHM > 0) {
          els.chipT.textContent = `T(ê°œì¸í™”): ${rangeStr(paceHM + 0, paceHM + 10 + adjT)} /km`;
        } else if (pace10k > 0) {
          els.chipT.textContent = `T(ê°œì¸í™”): ${rangeStr(pace10k + 10, pace10k + 15 + adjT)} /km`;
        } else {
          els.chipT.textContent = 'T(ê°œì¸í™”): â€”';
        }

        // CV: 5K ìš°ì„ 
        if (pace5k > 0) {
          els.chipCV.textContent = `CV(ê°œì¸í™”): ${rangeStr(pace5k + 8, pace5k + 12 + adjCV)} /km`;
        } else if (pace10k > 0) {
          els.chipCV.textContent = `CV(ê°œì¸í™”): ${rangeStr(pace10k + 0, pace10k + 5 + adjCV)} /km`;
        } else {
          els.chipCV.textContent = 'CV(ê°œì¸í™”): â€”';
        }
      };

      els.btn?.addEventListener('click', calc);
      els.form?.addEventListener('input', calc);
      calc();
    });
  </script>
</body>
</html>
