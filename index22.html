<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sub-3 ë‹¬ì„± ë§ˆë¼í†¤ í›ˆë ¨ ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Midnight Mint & Coral -->
    <!-- Application Structure Plan: ê¸°ì¡´ì˜ ê¸´ í…ìŠ¤íŠ¸ ë¬¸ì„œë¥¼ ì‚¬ìš©ìê°€ ì§€ì†ì ìœ¼ë¡œ ì°¸ê³ í•˜ê¸° ì–´ë µë‹¤ê³  íŒë‹¨í•˜ì—¬, ëŒ€ì‹œë³´ë“œ í˜•íƒœì˜ ì¸í„°ë™í‹°ë¸Œ SPAë¡œ ì¬ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ìµœìƒë‹¨ì—ëŠ” í•µì‹¬ ëª©í‘œ(í˜ì´ìŠ¤, VDOT)ë¥¼ ê³ ì • ë°°ì¹˜í•˜ì—¬ í•­ìƒ ì¸ì§€í•  ìˆ˜ ìˆë„ë¡ í•˜ê³ , í›ˆë ¨ëŸ‰ ë³€í™”ë¥¼ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ë¼ì¸ ì°¨íŠ¸ë¥¼ ì¤‘ì•™ì— ë°°ì¹˜í–ˆìŠµë‹ˆë‹¤. í›ˆë ¨ ê³„íšì˜ í•µì‹¬ì¸ 4ë‹¨ê³„ëŠ” íƒ­ìœ¼ë¡œ êµ¬ì„±í•˜ì—¬, ì‚¬ìš©ìê°€ ìŠ¤í¬ë¡¤ ì—†ì´ ê° ë‹¨ê³„ì˜ ìƒì„¸ ì •ë³´(ëª©í‘œ, ì£¼ìš”ì‚¬í•­, ì£¼ê°„ ê³„íš)ë¥¼ ì¦‰ì‹œ í™•ì¸í•˜ê³  ë‹¨ê³„ ê°„ ë¹„êµë¥¼ ìš©ì´í•˜ê²Œ í–ˆìŠµë‹ˆë‹¤. ì´ êµ¬ì¡°ëŠ” 1ë…„ì´ë¼ëŠ” ì¥ê¸° ê³„íšì„ ì‚¬ìš©ìê°€ ì••ë„ë‹¹í•˜ì§€ ì•Šê³  ì²´ê³„ì ìœ¼ë¡œ íƒìƒ‰í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë° ìµœì í™”ëœ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤. -->
    <!-- Visualization & Content Choices: [ì£¼ê°„ í›ˆë ¨ëŸ‰ ë³€í™” -> ëª©í‘œ: ë³€í™” í™•ì¸ -> Viz: Chart.js ë¼ì¸ ì°¨íŠ¸ -> Interaction: ì£¼ì°¨ë³„ í›ˆë ¨ëŸ‰ íˆ´íŒ í‘œì‹œ(íšŒë³µ ì£¼ê°„ íŠ¹ë³„ í‘œì‹œ) -> Justification: 1ë…„ê°„ì˜ í›ˆë ¨ ê°•ë„ ë³€í™”ì™€ ì£¼ê¸°(íšŒë³µì£¼)ë¥¼ ì§ê´€ì ìœ¼ë¡œ íŒŒì•…] / [í›ˆë ¨ ë‹¨ê³„ë³„ ê³„íš -> ëª©í‘œ: ì •ë³´ êµ¬ì„± ë° íƒìƒ‰ -> Viz: Tailwind CSS ê¸°ë°˜ íƒ­ ë° ì¹´ë“œ UI -> Interaction: íƒ­ í´ë¦­ ì‹œ í•´ë‹¹ ë‹¨ê³„ì˜ ìƒì„¸ ì •ë³´ ë™ì  í‘œì‹œ, ì¹´ë“œ í´ë¦­ ì‹œ ìƒì„¸ í›ˆë ¨ êµ¬ì¡° ëª¨ë‹¬ í‘œì‹œ -> Justification: ë°©ëŒ€í•œ í›ˆë ¨ ì •ë³´ë¥¼ ë‹¨ê³„ë³„ë¡œ ë¶„ë¦¬í•˜ê³ , ìƒì„¸ ì •ë³´ëŠ” í•„ìš”ì‹œ í˜¸ì¶œí•˜ì—¬ UIë¥¼ ê¹”ë”í•˜ê²Œ ìœ ì§€í•¨] / [í•µì‹¬ ëª©í‘œ í˜ì´ìŠ¤ -> ëª©í‘œ: ì •ë³´ ì œê³µ -> Viz: Tailwind CSS ì¹´ë“œ -> Interaction: ì—†ìŒ -> Justification: í›ˆë ¨ì˜ ê°€ì¥ í•µì‹¬ì ì¸ ìˆ˜ì¹˜ì´ë¯€ë¡œ í•­ìƒ ì‰½ê²Œ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ ìƒë‹¨ì— ê³ ì •] -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f0f4f8; /* Softer Blue-Gray Background */
            color: #1e293b; /* Slate 800 */
        }
        .header-gradient {
             background: linear-gradient(180deg, #e0e7ff 0%, #f0f4f8 100%);
        }
        .tab-btn {
            position: relative;
            background-color: transparent;
            color: #64748b; /* Slate 500 */
            transition: color 0.3s ease;
            padding-bottom: 8px;
        }
        .tab-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 3px;
            background-color: #ff7f50; /* Coral Accent */
            border-radius: 2px;
            transition: width 0.3s ease;
        }
        .tab-btn.active {
            color: #0f172a; /* Slate 900 */
        }
        .tab-btn.active::after {
            width: 70%;
        }
        .content-card {
            background-color: white;
            border-radius: 1rem; /* 16px */
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.05);
            border: 1px solid #e2e8f0; /* Slate 200 */
        }
        .phase-content {
            animation: fadeIn 0.5s ease-in-out;
        }
        .modal-overlay {
            animation: fadeIn 0.3s ease-in-out;
        }
        .modal-content {
            animation: slideUp 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; } to { opacity: 1; }
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .goal-list li::before {
            content: 'ğŸ¯'; margin-right: 0.75rem;
        }
        .point-list li::before {
            content: 'ğŸ“'; margin-right: 0.75rem;
        }
        .pace-card {
            background: linear-gradient(145deg, #ffffff, #f9fafb);
            transition: all 0.3s ease;
        }
        .pace-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.05), 0 8px 10px -6px rgb(0 0 0 / 0.05);
        }
    </style>
</head>
<body class="antialiased">
    <div class="header-gradient pt-8 pb-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
            <header class="text-center mb-12">
                <h1 class="text-4xl sm:text-5xl font-extrabold text-slate-900 tracking-tight">SUB-3 MARATHON PLAN</h1>
                <p class="mt-3 text-lg text-slate-600">í˜„ì¬ ê¸°ë¡ <span class="font-semibold text-slate-700">4:11:42</span>ì—ì„œ 1ë…„ ì•ˆì— ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•œ ë¡œë“œë§µ</p>
            </header>

            <section class="grid grid-cols-2 lg:grid-cols-4 gap-4">
                 <div class="pace-card p-5 rounded-xl border-l-4 border-emerald-400">
                    <p class="font-bold text-lg text-emerald-600">E-Pace (ì´ì§€)</p>
                    <p class="text-slate-800 text-2xl font-semibold">5:03<span class="text-lg">~</span>5:37</p>
                </div>
                <div class="pace-card p-5 rounded-xl border-l-4 border-amber-400">
                    <p class="font-bold text-lg text-amber-600">T-Pace (ì—­ì¹˜)</p>
                    <p class="text-slate-800 text-2xl font-semibold">4:18</p>
                </div>
                <div class="pace-card p-5 rounded-xl border-l-4 border-rose-400">
                    <p class="font-bold text-lg text-rose-600">I-Pace (ì¸í„°ë²Œ)</p>
                    <p class="text-slate-800 text-2xl font-semibold">3:58</p>
                </div>
                <div class="pace-card p-5 rounded-xl border-l-4 border-violet-400">
                    <p class="font-bold text-lg text-violet-600">R-Pace (ë°˜ë³µ)</p>
                    <p class="text-slate-800 text-2xl font-semibold">3:41</p>
                </div>
            </section>
        </div>
    </div>
    
    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-7xl -mt-16">

        <section id="progress-chart" class="mb-12 content-card p-4 sm:p-6">
             <h2 class="text-2xl font-bold text-center text-slate-800 mb-2">ì—°ê°„ í›ˆë ¨ëŸ‰ ë³€í™”</h2>
             <p class="text-center text-slate-600 mb-6">ì ì§„ì  í›ˆë ¨ëŸ‰ ì¦ê°€ì™€ ì£¼ê¸°ì ì¸ íšŒë³µ ì£¼ê°„ì„ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•˜ì„¸ìš”.</p>
            <div class="relative w-full mx-auto" style="height: 300px; max-height: 400px; max-width: 900px;">
                <canvas id="mileageChart"></canvas>
            </div>
        </section>

        <main>
            <div class="border-b border-slate-200 mb-8">
                <div class="flex flex-wrap justify-center -mb-px gap-6">
                    <button data-phase="1" class="tab-btn font-semibold py-3 px-4 text-lg active">1ë‹¨ê³„: ê¸°ë°˜ í˜•ì„±</button>
                    <button data-phase="2" class="tab-btn font-semibold py-3 px-4 text-lg">2ë‹¨ê³„: ê°•í™” ì¤€ë¹„</button>
                    <button data-phase="3" class="tab-btn font-semibold py-3 px-4 text-lg">3ë‹¨ê³„: ë§ˆë¼í†¤ íŠ¹í™”</button>
                    <button data-phase="4" class="tab-btn font-semibold py-3 px-4 text-lg">4ë‹¨ê³„: í”¼í¬ & í…Œì´í¼</button>
                </div>
            </div>

            <div id="phase-details">
                <!-- Phase content will be injected here -->
            </div>

            <section id="recovery-week" class="mt-12">
                <div class="content-card p-6 sm:p-8">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-slate-900">íšŒë³µ ì£¼ê°„ í”„ë¡œí† ì½œ</h2>
                        <p class="text-lg text-slate-500 mt-1">ë§¤ 4ì£¼ì°¨: ë¶€ìƒ ë°©ì§€ ë° ì´ˆê³¼ íšŒë³µì„ ìœ„í•œ í•„ìˆ˜ ê¸°ê°„</p>
                         <p class="max-w-3xl mx-auto mt-4 text-sm text-slate-600 bg-slate-50 p-3 rounded-lg">í•µì‹¬ì€ ì´ì „ 3ì£¼ í‰ê·  í›ˆë ¨ëŸ‰ì˜ ì•½ 70-80% ìˆ˜ì¤€ìœ¼ë¡œ ì´ëŸ‰ì„ ì¤„ì´ëŠ” ê²ƒì…ë‹ˆë‹¤. ê³ ê°•ë„ í›ˆë ¨ì„ ìƒëµí•˜ê³ , ê°€ë²¼ìš´ ë‹¬ë¦¬ê¸°ì™€ íœ´ì‹ì— ì§‘ì¤‘í•©ë‹ˆë‹¤.</p>
                    </div>
                     <div class="space-y-3">
                        <div class="grid grid-cols-12 gap-4 items-center p-3 rounded-lg bg-emerald-50/50"> <div class="col-span-3 sm:col-span-2 font-bold text-emerald-800">ì›”: ì´ì§€ëŸ°</div> <div class="col-span-5 sm:col-span-6 text-emerald-700">í‰ì†Œ ì›”ìš”ì¼ì˜ 70-80%</div> <div class="col-span-4 sm:col-span-4 text-sm text-slate-600">ì°¸ê³ : íšŒë³µì— ì§‘ì¤‘</div> </div>
                        <div class="grid grid-cols-12 gap-4 items-center p-3 rounded-lg bg-slate-50/50"> <div class="col-span-3 sm:col-span-2 font-bold text-slate-800">í™”: íœ´ì‹/ì´ì§€ëŸ°</div> <div class="col-span-5 sm:col-span-6 text-slate-700">ê³ ê°•ë„ í›ˆë ¨ ëŒ€ì‹ </div> <div class="col-span-4 sm:col-span-4 text-sm text-slate-600">ì°¸ê³ : ê³ ê°•ë„ ìƒëµ</div> </div>
                        <div class="grid grid-cols-12 gap-4 items-center p-3 rounded-lg bg-emerald-50/50"> <div class="col-span-3 sm:col-span-2 font-bold text-emerald-800">ìˆ˜: ì´ì§€ëŸ°</div> <div class="col-span-5 sm:col-span-6 text-emerald-700">í‰ì†Œ ìˆ˜ìš”ì¼ì˜ 70-80%</div> <div class="col-span-4 sm:col-span-4 text-sm text-slate-600">ì°¸ê³ : í”¼ë¡œë„ ë”°ë¼ ì¡°ì ˆ</div> </div>
                        <div class="grid grid-cols-12 gap-4 items-center p-3 rounded-lg bg-emerald-50/50"> <div class="col-span-3 sm:col-span-2 font-bold text-emerald-800">ëª©: ì´ì§€ëŸ°</div> <div class="col-span-5 sm:col-span-6 text-emerald-700">MLR ëŒ€ì‹  ì§§ê²Œ</div> <div class="col-span-4 sm:col-span-4 text-sm text-slate-600">ì°¸ê³ : MLR ìƒëµ/ë‹¨ì¶•</div> </div>
                        <div class="grid grid-cols-12 gap-4 items-center p-3 rounded-lg bg-rose-50/50"> <div class="col-span-3 sm:col-span-2 font-bold text-rose-800">ê¸ˆ: ì™„ì „ íœ´ì‹</div> <div class="col-span-5 sm:col-span-6 text-rose-700"></div> <div class="col-span-4 sm:col-span-4 text-sm text-slate-600">ì°¸ê³ : í•„ìˆ˜ íœ´ì‹ì¼</div> </div>
                        <div class="grid grid-cols-12 gap-4 items-center p-3 rounded-lg bg-emerald-50/50"> <div class="col-span-3 sm:col-span-2 font-bold text-emerald-800">í† : ì´ì§€ëŸ°</div> <div class="col-span-5 sm:col-span-6 text-emerald-700">ì§§ê²Œ</div> <div class="col-span-4 sm:col-span-4 text-sm text-slate-600">ì°¸ê³ : ê³ ê°•ë„ ìƒëµ</div> </div>
                        <div class="grid grid-cols-12 gap-4 items-center p-3 rounded-lg bg-blue-50/50"> <div class="col-span-3 sm:col-span-2 font-bold text-blue-800">ì¼: ì¥ê±°ë¦¬</div> <div class="col-span-5 sm:col-span-6 text-blue-700">í‰ì†Œì˜ 70-80%</div> <div class="col-span-4 sm:col-span-4 text-sm text-slate-600">ì°¸ê³ : MP êµ¬ê°„ ìƒëµ</div> </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="mt-12 pt-8 border-t border-slate-200 text-center">
            <p class="text-slate-600">ì´ ê³„íšì€ Sub-3ë¼ëŠ” ëª©í‘œë¥¼ í–¥í•œ ì²´ê³„ì ì¸ ë¡œë“œë§µì…ë‹ˆë‹¤.</p>
            <p class="text-slate-600 mt-1">ë¬´ì—‡ë³´ë‹¤ ìì‹ ì˜ ëª¸ì— ê·€ ê¸°ìš¸ì´ë©° ê¾¸ì¤€íˆ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì„±ê³µì˜ ì—´ì‡ ì…ë‹ˆë‹¤.</p>
        </footer>
    </div>
    
    <!-- Modal -->
    <div id="structureModal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center p-4 z-50 hidden">
        <div class="modal-content content-card w-full max-w-md p-6 relative">
            <button id="closeModalBtn" class="absolute top-4 right-4 text-slate-500 hover:text-slate-800 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <h3 id="modalTitle" class="text-2xl font-bold text-slate-900 mb-4">í›ˆë ¨ êµ¬ì¡°</h3>
            <div id="modalContent" class="space-y-3 text-slate-700">
                <!-- Modal content will be injected here -->
            </div>
        </div>
    </div>

    <script>
        const trainingData = {
            1: {
                title: '1ë‹¨ê³„: ê¸°ë°˜ í˜•ì„±ê¸°', weeks: '1 ~ 16ì£¼', goals: ['ê°•ë ¥í•œ ìœ ì‚°ì†Œ ê¸°ë°˜ êµ¬ì¶•','ì˜¬ë°”ë¥¸ í›ˆë ¨ ìŠµê´€ í™•ë¦½','ë¶€ìƒ ì €í•­ë ¥ í–¥ìƒ'], points: ['ì£¼ê°„ í›ˆë ¨ëŸ‰: 55km â†’ 100km ì ì§„ì  ì¦ê°€','í›ˆë ¨ëŸ‰ì˜ 80%ë¥¼ ì´ì§€ëŸ°ìœ¼ë¡œ êµ¬ì„±','3~4ì£¼ë§ˆë‹¤ íšŒë³µ ì£¼ê°„ ì„¤ì •','ì£¼ 1~2íšŒ ê·¼ë ¥ í›ˆë ¨ ë³‘í–‰'],
                schedule: [
                    { day: 'ì›”', type: 'íšŒë³µ ë‹¬ë¦¬ê¸°', dist: '5~7km', color: 'bg-sky-50', icon: 'ğŸ’§', structure: '5ë¶„ ê±·ê¸° - ë³¸ìš´ë™ - 5ë¶„ ìŠ¤íŠ¸ë ˆì¹­' },
                    { day: 'í™”', type: 'ì´ì§€ëŸ° (ì§ˆì£¼)', dist: '8~12km', color: 'bg-emerald-50', icon: 'ğŸ‘Ÿ', structure: '15ë¶„ ì›Œë°ì—… - 3x800m(T) ë˜ëŠ” ìŠ¤íŠ¸ë¼ì´ë“œ - 15ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ìˆ˜', type: 'ì´ì§€ëŸ°', dist: '8~12km', color: 'bg-emerald-50', icon: 'ğŸ‘Ÿ', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ëª©', type: 'ì¤‘ê°„ ê¸¸ì´ ë‹¬ë¦¬ê¸°', dist: '10~16km', color: 'bg-green-50', icon: 'ğŸƒâ€â™‚ï¸', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ê¸ˆ', type: 'ì´ì§€ëŸ°', dist: '6~10km', color: 'bg-emerald-50', icon: 'ğŸ‘Ÿ', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'í† ', type: 'ì™„ì „ íœ´ì‹', dist: 'ì—ë„ˆì§€ ì¶©ì „', color: 'bg-slate-100', icon: 'ğŸ›Œ', structure: 'ì™„ì „í•œ íœ´ì‹ìœ¼ë¡œ íšŒë³µ ë° ì´ˆê³¼ íšŒë³µ ìœ ë„' },
                    { day: 'ì¼', type: 'ì¥ê±°ë¦¬ ë‹¬ë¦¬ê¸°', dist: '14~22km', color: 'bg-blue-50', icon: 'ğŸ—ºï¸', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                ]
            },
            2: {
                title: '2ë‹¨ê³„: ê°•í™” ì¤€ë¹„ê¸°', weeks: '17 ~ 28ì£¼', goals: ['LT(ì—­ì¹˜) ëŠ¥ë ¥ ê°•í™”', 'VO2Max í›ˆë ¨ ë„ì… ì¤€ë¹„', 'ìœ ì‚°ì†Œ ëŠ¥ë ¥ ì§€ì† ë°œì „'], points: ['ì£¼ê°„ í›ˆë ¨ëŸ‰: 100km â†’ 110km ì ì§„ì  ì¦ê°€', 'ì£¼ 1~2íšŒ ì§ˆì  í›ˆë ¨(T, I í˜ì´ìŠ¤) ì‹¤ì‹œ', 'LT í›ˆë ¨ì€ ì£¼ê°„ ì´ í›ˆë ¨ëŸ‰ì˜ 10% ì´ë‚´', 'ë‹¬ë¦¬ê¸° íŠ¹í™” ê·¼ë ¥ í›ˆë ¨ ë³‘í–‰'],
                schedule: [
                    { day: 'ì›”', type: 'ì´ì§€ëŸ°', dist: '10~12km', color: 'bg-emerald-50', icon: 'ğŸ‘Ÿ', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'í™”', type: 'í…œí¬ ëŸ°', dist: '10~14km', color: 'bg-amber-50', icon: 'ğŸ”¥', structure: '15ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™: 2x15ë¶„(T) ë˜ëŠ” 4-6x1km(T) - 15ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ìˆ˜', type: 'ì´ì§€ëŸ°', dist: '12~15km', color: 'bg-emerald-50', icon: 'ğŸ‘Ÿ', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ëª©', type: 'ì¤‘ê°„ ê¸¸ì´ ë‹¬ë¦¬ê¸°', dist: '15~20km', color: 'bg-green-50', icon: 'ğŸƒâ€â™‚ï¸', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ê¸ˆ', type: 'ì¸í„°ë²Œ / ì–¸ë•', dist: '10~12km', color: 'bg-rose-50', icon: 'âš¡', structure: '15ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™: 4-5x800m(I) ë˜ëŠ” ì–¸ë• ë°˜ë³µ - 15ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'í† ', type: 'ì™„ì „ íœ´ì‹', dist: 'ì—ë„ˆì§€ ì¶©ì „', color: 'bg-slate-100', icon: 'ğŸ›Œ', structure: 'ì™„ì „í•œ íœ´ì‹ìœ¼ë¡œ íšŒë³µ ë° ì´ˆê³¼ íšŒë³µ ìœ ë„' },
                    { day: 'ì¼', type: 'ì¥ê±°ë¦¬ ë‹¬ë¦¬ê¸°', dist: '24~28km', color: 'bg-blue-50', icon: 'ğŸ—ºï¸', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                ]
            },
            3: {
                title: '3ë‹¨ê³„: ë§ˆë¼í†¤ íŠ¹í™”ê¸°', weeks: '29 ~ 40ì£¼', goals: ['ë§ˆë¼í†¤ í˜ì´ìŠ¤(MP) ì ì‘', 'LT/VO2Max ëŠ¥ë ¥ ìœ ì§€ ë° í–¥ìƒ', 'ìµœëŒ€ í›ˆë ¨ëŸ‰ ë„ë‹¬'], points: ['ì£¼ê°„ í›ˆë ¨ëŸ‰: 110km â†’ 120km+ ë„ë‹¬ ë° ìœ ì§€', 'ë§ˆë¼í†¤ í˜ì´ìŠ¤(M í˜ì´ìŠ¤) í›ˆë ¨ ë³¸ê²© ë„ì…', 'ì¥ê±°ë¦¬ ë‹¬ë¦¬ê¸°ì— MP êµ¬ê°„ í¬í•¨'],
                schedule: [
                    { day: 'ì›”', type: 'ì´ì§€ëŸ°', dist: '12~14km', color: 'bg-emerald-50', icon: 'ğŸ‘Ÿ', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'í™”', type: 'ë§ˆë¼í†¤ í˜ì´ìŠ¤ ëŸ°', dist: '14~18km', color: 'bg-teal-50', icon: 'ğŸ¯', structure: '15ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™: 8~12km @ MP - 15ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ìˆ˜', type: 'ì´ì§€ëŸ°', dist: '15~20km', color: 'bg-emerald-50', icon: 'ğŸ‘Ÿ', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ëª©', type: 'ì¤‘ê°„ ê¸¸ì´ ë‹¬ë¦¬ê¸°', dist: '18~22km', color: 'bg-green-50', icon: 'ğŸƒâ€â™‚ï¸', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ê¸ˆ', type: 'LT / VO2Max í›ˆë ¨', dist: '10~12km', color: 'bg-rose-50', icon: 'ğŸ”¥', structure: '15ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™: 4x1km(T) ë˜ëŠ” 3-4x800m(I) - 15ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'í† ', type: 'ì™„ì „ íœ´ì‹', dist: 'ì—ë„ˆì§€ ì¶©ì „', color: 'bg-slate-100', icon: 'ğŸ›Œ', structure: 'ì™„ì „í•œ íœ´ì‹ìœ¼ë¡œ íšŒë³µ ë° ì´ˆê³¼ íšŒë³µ ìœ ë„' },
                    { day: 'ì¼', type: 'ì¥ê±°ë¦¬ (MP í¬í•¨)', dist: '28~32km', color: 'bg-blue-50', icon: 'ğŸ—ºï¸', structure: '10ë¶„ ì›Œë°ì—… - E êµ¬ê°„ - ë³¸ìš´ë™: 8~15km @ MP - E êµ¬ê°„ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                ]
            },
            4: {
                title: '4ë‹¨ê³„: í”¼í¬ ë° í…Œì´í¼', weeks: '41 ~ 49ì£¼', goals: ['ìµœìƒì˜ ê²½ê¸°ë ¥ ìƒíƒœ ì¤€ë¹„', 'í”¼ë¡œ ê´€ë¦¬ ë° ë ˆì´ìŠ¤ ì „ëµ ì ê²€'], points: ['ìµœëŒ€ í›ˆë ¨ëŸ‰ ìœ ì§€ ë˜ëŠ” ë¯¸ì„¸ ì¡°ì •', 'ê³ ê°•ë„ í›ˆë ¨ì˜ \'ì§ˆ\'ì— ì§‘ì¤‘', '46ì£¼ì°¨ë¶€í„° ì¥ê±°ë¦¬ ì ì§„ì  ê°ì†Œ', '48ì£¼ì°¨ë¶€í„° í…Œì´í¼ë§ ë„ì…'],
                schedule: [
                    { day: 'ì›”', type: 'ì´ì§€ëŸ°', dist: '10~14km', color: 'bg-emerald-50', icon: 'ğŸ‘Ÿ', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'í™”', type: 'ë§ˆë¼í†¤ í˜ì´ìŠ¤ ëŸ°', dist: '12~18km', color: 'bg-teal-50', icon: 'ğŸ¯', structure: '15ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™: 10~15km @ MP - 15ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ìˆ˜', type: 'ì´ì§€ëŸ°', dist: '15~20km', color: 'bg-emerald-50', icon: 'ğŸ‘Ÿ', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ëª©', type: 'ì¤‘ê°„ ê¸¸ì´ ë‹¬ë¦¬ê¸°', dist: '18~22km', color: 'bg-green-50', icon: 'ğŸƒâ€â™‚ï¸', structure: '10ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'ê¸ˆ', type: 'ì§§ê³  ë¹ ë¥¸ í›ˆë ¨', dist: '8~10km', color: 'bg-violet-50', icon: 'âš¡', structure: '15ë¶„ ì›Œë°ì—… - ë³¸ìš´ë™: 6-8x100-200m(R) - 15ë¶„ ì¿¨ë‹¤ìš´' },
                    { day: 'í† ', type: 'ì™„ì „ íœ´ì‹', dist: 'ì—ë„ˆì§€ ì¶©ì „', color: 'bg-slate-100', icon: 'ğŸ›Œ', structure: 'ì™„ì „í•œ íœ´ì‹ìœ¼ë¡œ íšŒë³µ ë° ì´ˆê³¼ íšŒë³µ ìœ ë„' },
                    { day: 'ì¼', type: 'ì¥ê±°ë¦¬ (MP í¬í•¨)', dist: '35kmâ†’20km', color: 'bg-blue-50', icon: 'ğŸ—ºï¸', structure: '10ë¶„ ì›Œë°ì—… - E êµ¬ê°„ - MP êµ¬ê°„ - E êµ¬ê°„ - 10ë¶„ ì¿¨ë‹¤ìš´' },
                ]
            },
        };

        document.addEventListener('DOMContentLoaded', () => {
            const phaseDetailsContainer = document.getElementById('phase-details');
            const tabButtons = document.querySelectorAll('.tab-btn');
            const modal = document.getElementById('structureModal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            
            function openModal(title, content) {
                modalTitle.textContent = title;
                modalContent.innerHTML = content.split(' - ').map(part => `
                    <div class="border-l-4 pl-4 py-2 ${part.includes('ì›Œë°ì—…') || part.includes('ì¿¨ë‹¤ìš´') ? 'border-slate-300' : 'border-teal-400'}">
                        <p class="font-semibold">${part.trim()}</p>
                    </div>
                `).join('');
                modal.classList.remove('hidden');
            }

            function closeModal() {
                modal.classList.add('hidden');
            }

            closeModalBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            function renderPhase(phaseId) {
                const phase = trainingData[phaseId];
                let scheduleHtml = '';
                phase.schedule.forEach((item, index) => {
                    const isRestDay = item.type.includes('íœ´ì‹');
                    scheduleHtml += `
                        <div class="content-card flex flex-col p-4 text-center transform hover:-translate-y-1.5 transition-transform duration-300 ${item.color} h-full">
                            <div class="flex-grow">
                                <p class="font-bold text-lg text-slate-800">${item.day}</p>
                                <p class="text-3xl my-2">${item.icon}</p>
                                <p class="font-semibold text-slate-700">${item.type}</p>
                                <p class="text-sm text-slate-500 mt-1">${item.dist}</p>
                            </div>
                            <button data-phase="${phaseId}" data-index="${index}" class="view-structure-btn mt-4 w-full text-sm font-semibold text-teal-600 hover:text-teal-800 py-1.5 rounded-lg bg-white shadow-sm border border-slate-200 hover:bg-slate-50 transition-colors">
                                êµ¬ì¡° ë³´ê¸°
                            </button>
                        </div>
                    `;
                });

                phaseDetailsContainer.innerHTML = `
                    <div class="phase-content content-card p-6 sm:p-8">
                        <div class="text-center">
                            <h2 class="text-3xl font-bold text-slate-900">${phase.title}</h2>
                            <p class="text-lg text-slate-500 mt-1">${phase.weeks}</p>
                        </div>
                        <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-8 border-t border-b border-slate-200 py-8">
                            <div>
                                <h3 class="text-xl font-semibold text-slate-800 mb-3">ë‹¨ê³„ë³„ ëª©í‘œ</h3>
                                <ul class="list-none space-y-2 text-slate-700 goal-list">
                                    ${phase.goals.map(goal => `<li>${goal}</li>`).join('')}
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold text-slate-800 mb-3">ì£¼ìš” í›ˆë ¨ í¬ì¸íŠ¸</h3>
                                <ul class="list-none space-y-2 text-slate-700 point-list">
                                    ${phase.points.map(point => `<li>${point}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                        <div class="mt-8">
                             <h3 class="text-2xl font-bold text-slate-800 mb-6 text-center">ì£¼ê°„ í›ˆë ¨ í”Œë˜ë„ˆ</h3>
                             <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4">
                                ${scheduleHtml}
                            </div>
                        </div>
                    </div>
                `;
                const content = phaseDetailsContainer.querySelector('.phase-content');
                content.style.animation = 'none';
                content.offsetHeight;
                content.style.animation = null;

                document.querySelectorAll('.view-structure-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const phaseId = e.currentTarget.dataset.phase;
                        const index = e.currentTarget.dataset.index;
                        const scheduleItem = trainingData[phaseId].schedule[index];
                        openModal(`${scheduleItem.day}ìš”ì¼: ${scheduleItem.type}`, scheduleItem.structure);
                    });
                });
            }

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    renderPhase(button.dataset.phase);
                });
            });

            renderPhase(1);

            const generateMileageData = () => {
                const data = []; let currentMileage = 55;
                for (let i = 1; i <= 16; i++) { if (i % 4 === 0) data.push(Math.round(currentMileage * 0.75)); else data.push(currentMileage); if(currentMileage < 100) currentMileage += 3; }
                currentMileage = 100;
                for (let i = 1; i <= 12; i++) { if (i % 4 === 0) data.push(Math.round(currentMileage * 0.8)); else data.push(currentMileage); if(currentMileage < 110) currentMileage += 1; }
                currentMileage = 110;
                for (let i = 1; i <= 12; i++) { if (i % 4 === 0) data.push(Math.round(currentMileage * 0.8)); else data.push(currentMileage); if(currentMileage < 120) currentMileage += 1; }
                currentMileage = 120;
                for (let i = 1; i <= 9; i++) { if (i < 5) data.push(currentMileage); else { currentMileage -= 15; data.push(Math.max(40, currentMileage)); } }
                return data.slice(0, 49);
            };

            const mileageData = generateMileageData();
            const ctx = document.getElementById('mileageChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({ length: 49 }, (_, i) => `${i + 1}ì£¼`),
                    datasets: [{
                        label: 'ì£¼ê°„ í›ˆë ¨ëŸ‰ (km)', data: mileageData, borderColor: '#14b8a6', backgroundColor: 'rgba(20, 184, 166, 0.1)',
                        fill: true, tension: 0.4, pointBackgroundColor: '#14b8a6', pointBorderColor: '#fff', pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#14b8a6', pointRadius: (c) => c.dataIndex % 4 === 3 ? 6 : 0, pointHoverRadius: 8, pointBorderWidth: 2,
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    scales: { y: { beginAtZero: true, grid: { color: '#e2e8f0' } }, x: { grid: { display: false } } },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                title: (tooltipItems) => {
                                    if (!tooltipItems.length) return '';
                                    const item = tooltipItems[0];
                                    const label = item.label;
                                    const isRecoveryWeek = item.dataIndex % 4 === 3;
                                    return isRecoveryWeek ? `${label} (íšŒë³µ ì£¼ê°„)` : label;
                                },
                                label: (c) => `í›ˆë ¨ëŸ‰: ${c.raw} km`
                            },
                            backgroundColor: '#0f172a', titleFont: { size: 14, weight: 'bold' }, bodyFont: { size: 12 },
                            padding: 12, cornerRadius: 8, displayColors: false,
                        },
                        legend: { display: false }
                    },
                    interaction: { intersect: false, mode: 'index' },
                }
            });
        });
    </script>

</body>
</html>
